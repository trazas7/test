// server.js
const express = require("express");
const cors = require("cors");
const app = express();

// allow your frontend origin
app.use(cors({
  origin: "https://localhost:3000",   // exact origin
  methods: ["GET","POST","PUT","PATCH","DELETE","OPTIONS"],
  allowedHeaders: ["Content-Type","Authorization"],
  credentials: true                    // only if you use cookies/auth headers
}));

// (optional) handle preflight explicitly if you have custom routes
app.options("*", cors());

app.get("/prompts", (req, res) => {
  res.json([{ id: 1, text: "Hello from API" }]);
});

app.listen(4000, () => console.log("API on http://localhost:4000"));
